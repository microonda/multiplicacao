<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Jogo de Multiplicação</title>
</head>

<body id="body">
    <form class="form" id="form">
        <h2 class="pontos" id="pontos">pontos: 0</h2>
        <h1 id="questao">Quanto é 1 multiplicado por 1?</h1>
        <input
            type="text"
            class="input"
            name="input" 
            id="input"
            placeholder="Escreva sua resposta"
            autofocus 
            autocomplete="off">
        <button type="submit" class="butao">Enviar</button>
    </form>
    
    <script>
    const n1 = Math.round(Math.random()*10)
    const n2 = Math.round(Math.random()*10)
    const resultado = n1 * n2

    const elPergunta = document.getElementById("questao")
    const elForm = document.getElementById("form")
    const elInput = document.getElementById("input")
    const elPontos = document.getElementById("pontos")

    let pontos = JSON.parse(localStorage.getItem("pontos"))

    elPontos.innerText = `pontos: ${pontos}`
    elPergunta.innerText = `Quanto é ${n1} multiplicado por ${n2}`
    pontos = 0;
    

    elForm.addEventListener("submit", ()=>{
        var resposta = elInput.value
        
        if(pontos <= 9){ // entre 5 e 9
            // programa normal
            if(Number(resposta) === resultado){ // acertou
                pontos++;
                window.alert(`Você acertou! Ganhou mais 1 Ponto!`)
            }
            else{ // errou a conta
                pontos--;
                window.alert(`${n1} x ${n2} não é ${resposta}!!! e sim: ${resultado}`)
            }
            updateLocalStorage()
        }

        else{ // reset de pontos
            pontos = 0
            updateLocalStorage()
            window.open('dancinha.html')
        }
    })


    function updateLocalStorage(){
        localStorage.setItem("pontos", JSON.stringify(pontos))
    }
</script>
</body>
</html>
